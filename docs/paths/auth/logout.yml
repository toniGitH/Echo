post:
  tags:
    - Auth
  summary: Cerrar sesi贸n (Logout)
  description: |
    Revoca el token de acceso actual del usuario autenticado.
    
    ** Autenticaci贸n requerida:**
    
    Este endpoint requiere autenticaci贸n mediante Bearer token.
    
    **驴Qu茅 hace este endpoint?**
    
    - Revoca (elimina) el token de acceso actual del usuario
    - El token queda inv谩lido inmediatamente
    - No se pueden revocar tokens de otros usuarios, solo el token actual
    
    **Despu茅s del logout:**
    
    - El token ya no funcionar谩 para futuras peticiones
    - Recibir谩s error 401 (Unauthenticated) si intentas usar el token revocado
    - Para volver a autenticarte, debes hacer login nuevamente
    
    **Casos de uso:**
    
    - Cerrar sesi贸n en la aplicaci贸n
    - Invalidar el token antes de generar uno nuevo
    - Seguridad: revocar acceso si el token fue comprometido

  operationId: logoutUser
  
  security:
    - bearerAuth: []
  
  responses:
    '200':
      description: Logout exitoso - Token revocado correctamente
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Mensaje de confirmaci贸n del logout
                example: Logged out successfully.
          examples:
            logoutExitoso:
              summary: Logout exitoso
              value:
                message: Logged out successfully.

    '401':
      description: No autenticado - Token inv谩lido, expirado o no proporcionado
      content:
        application/json:
          schema:
            type: object
            properties:
              message:
                type: string
                description: Mensaje de error de autenticaci贸n
          examples:
            tokenNoProporcionado:
              summary: Token no proporcionado
              description: No se envi贸 el header Authorization
              value:
                message: Unauthenticated.
            
            tokenInvalido:
              summary: Token inv谩lido o expirado
              description: El token no existe en la base de datos o ya fue revocado
              value:
                message: Unauthenticated.

  x-code-samples:
    - lang: cURL
      source: |
        curl -X POST http://localhost:8988/api/auth/logout \
          -H "Authorization: Bearer 1|a8K3mN9pQ2rT5vW8xY1zA4bC6dE9fG2hJ5kL8mN0pQ3rT6vW9xY2zA5bC8dE1fG4" \
          -H "Accept: application/json"
        
        # Respuesta:
        # {
        #   "message": "Logged out successfully."
        # }
    
    - lang: JavaScript (Fetch)
      source: |
        // Obtener el token guardado
        const token = localStorage.getItem('authToken');
        
        // Hacer logout
        const response = await fetch('http://localhost:8988/api/auth/logout', {
          method: 'POST',
          headers: {
            'Authorization': `Bearer ${token}`,
            'Accept': 'application/json'
          }
        });
        
        const data = await response.json();
        console.log(data);
        
        // Eliminar el token guardado
        localStorage.removeItem('authToken');
    
    - lang: JavaScript (Axios)
      source: |
        // Obtener el token guardado
        const token = localStorage.getItem('authToken');
        
        // Hacer logout
        const response = await axios.post('http://localhost:8988/api/auth/logout', {}, {
          headers: {
            'Authorization': `Bearer ${token}`
          }
        });
        
        console.log(response.data);
        
        // Eliminar el token guardado
        localStorage.removeItem('authToken');
        
        // Limpiar el header de Axios
        delete axios.defaults.headers.common['Authorization'];
    
    - lang: Python (requests)
      source: |
        import requests
        
        # Token obtenido del login
        token = "1|a8K3mN9pQ2rT5vW8xY1zA4bC6dE9fG2hJ5kL8mN0pQ3rT6vW9xY2zA5bC8dE1fG4"
        
        # Hacer logout
        response = requests.post(
            'http://localhost:8988/api/auth/logout',
            headers={'Authorization': f'Bearer {token}'}
        )
        
        print(response.json())
