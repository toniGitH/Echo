# Documento base para ir a√±adiendo toda la documentaci√≥n de los diferentes
# endpoints de tu aplicaci√≥n.
# Cada vez que levantes contenedores, se deber√≠a regenerar autom√°ticamente
# el documento openapi.yml √öNICO que SwaggerUI utilizar√° para presentar al
# usuario esta documentaci√≥n.

openapi: 3.0.3
info:
  title: API Echo
  version: 1.0.0
  description: |
    API REST para la aplicaci√≥n de notificaciones.
    
    Esta API permite gestionar usuarios, autenticaci√≥n y notificaciones.
    
    **Caracter√≠sticas:**
    - Arquitectura hexagonal con DDD
    - Validaciones completas en cada endpoint
    - Respuestas en formato JSON
    - Mensajes de error descriptivos
    - Autenticaci√≥n mediante Bearer tokens
    
    **üîê C√≥mo autenticarte en Swagger UI:**
    
    1. Haz login en el endpoint `/auth/login`
    2. Copia el `token` de la respuesta
    3. Haz clic en el bot√≥n **"Authorize"** üîì (arriba a la derecha)
    4. Pega el token en el campo "Value" (sin escribir "Bearer", solo el token)
    5. Haz clic en "Authorize" y luego "Close"
    6. Ahora puedes usar endpoints protegidos como `/auth/logout` ‚úÖ

  contact:
    name: Soporte API Echo
    email: soporte@echo.com

servers:
  - url: http://localhost:8988/api
    description: API de desarrollo

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
      description: |
        Token de acceso Bearer obtenido del endpoint de login.
        
        Formato: `Authorization: Bearer {token}`

paths:
  /auth/register:
    $ref: './paths/auth/register.yml'
  /auth/login:
    $ref: './paths/auth/login.yml'
  /auth/logout:
    $ref: './paths/auth/logout.yml'
# ==============================================================
  # Aqu√≠ se definen los endpoints de la API.
  #
  # Ejemplo de c√≥mo a√±adir uno nuevo:
  #
  # /auth/register:
  #   $ref: './paths/auth/register.yml'
  #
  # /auth/login:
  #   $ref: './paths/auth/login.yml'
  #
  # Aseg√∫rate de que las rutas sean relativas a este archivo.
  # Es decir, que cada archivo de documentaci√≥n que generes, debe
  # estar f√≠sicamente dentro de la carpeta docs.
  # Por ejemplo, para crear la documentaci√≥n del endpoint de registro,
  # el archivo debe estar en esta ruta: docs/paths/auth/register.yml
  # La carpate auth es una sugerencia para organizar los endpoints
  # relacionados con registro y autenticaci√≥n.
  # Puedes organizar tus archivos de documentaci√≥n en diferentes
  # carpetas (auth, products, clients, etc...).
  # Los diferentes archivos que vayas creando se ir√°n fusionando 
  # con esta base cuando vuelvas a levantar los contenedores.
  # ==============================================================